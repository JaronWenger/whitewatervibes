import{f as Gt,C as Et,c as Tt,g as Rt,A as Lt,h as Dt,V as x,i as $,D as J,j as It,H as Wt,R as Bt,k as y,M as f,l as Q,m as Ht,n as _,o as tt,p as mt,q as k,r as ut,s as pt,t as ft,G as I,u as wt,v as Ot,w as Z,x as Ut,E as ct,T as Nt,e as lt,y as $t,z as qt,I as Vt}from"./three-DvJUpUqF.js";import{S as jt,W as Kt}from"./three-examples-BwNdHIn_.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))e(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&e(l)}).observe(document,{childList:!0,subtree:!0});function a(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function e(o){if(o.ep)return;o.ep=!0;const s=a(o);fetch(o.href,s)}})();window.addEventListener("scroll",t=>{t.preventDefault(),window.scrollTo(0,0)},{passive:!1});window.addEventListener("touchmove",t=>{t.preventDefault()},{passive:!1});window.addEventListener("wheel",t=>{t.preventDefault()},{passive:!1});const u=new Gt;u.background=new Et(8900331);const T=new Tt(75,window.innerWidth/window.innerHeight,.1,1e3),p=new Rt({antialias:!0,alpha:!1});p.setSize(window.innerWidth,window.innerHeight);p.setPixelRatio(window.devicePixelRatio);p.setClearColor(8900331,1);p.toneMapping=Lt;p.toneMappingExposure=1.2;p.outputEncoding=void 0;p.shadowMap.enabled=!0;p.shadowMap.type=Dt;document.body.appendChild(p.domElement);p.domElement.style.position="fixed";p.domElement.style.top="0";p.domElement.style.left="0";p.domElement.style.width="100%";p.domElement.style.height="100%";const q=new jt;q.scale.setScalar(1e4);u.add(q);const R=new x,B=q.material.uniforms;B.turbidity.value=10;B.rayleigh.value=2;B.mieCoefficient.value=.005;B.mieDirectionalG.value=.8;const Xt=$.degToRad(88),Yt=$.degToRad(180);R.setFromSphericalCoords(1,Xt,Yt);B.sunPosition.value.copy(R);const L=new J(16777215,2);L.position.set(50,100,50);L.castShadow=!0;L.shadow.mapSize.width=2048;L.shadow.mapSize.height=2048;L.shadow.camera.near=.5;L.shadow.camera.far=500;u.add(L);const Mt=new J(16777215,1.5);Mt.position.set(-50,100,-50);u.add(Mt);const yt=new J(16777215,1);yt.position.set(-50,50,50);u.add(yt);const Zt=new It(16777215,1);u.add(Zt);const Jt=new Wt(16777215,4473924,1);u.add(Jt);const F=1e3,D=100,dt=200;function xt(){const t=new Q(D,F,dt,dt),r=t.attributes.position.array;for(let a=0;a<r.length;a+=3){const e=r[a],o=r[a+2];let s=-o*.05;s+=Math.sin(o*.2+e*.3)*.8,s+=Math.sin(e*.5+o*.1)*.4,s+=Math.sin(o*.8+e*.4)*.3,o<-200&&o>-300&&(s+=Math.sin(o*.8+e*.6)*1.2,s+=Math.cos(e*.4+o*.3)*.7,s+=(Math.random()-.5)*.5),o<-500&&o>-600&&(s+=Math.sin(o*1.2+e*.8)*1.8,s+=Math.sin(e*.6+o*.5)*1,s+=(Math.random()-.5)*.8),r[a+1]=s}return t.attributes.position.needsUpdate=!0,t.computeVertexNormals(),t}const Qt=xt();function _t(t,r,a){const e=new Ht(1,1),o=new y({color:6710886,roughness:.8,metalness:.2}),s=new f(e,o);return s.position.set(t,-1.5,r),s.scale.set(a,a*1.2,a),s.rotation.set(Math.random()*Math.PI,Math.random()*Math.PI,Math.random()*Math.PI),s}const te=[{x:-20,z:-220,scale:3},{x:15,z:-250,scale:2.5},{x:-10,z:-280,scale:2},{x:25,z:-520,scale:3.5},{x:-15,z:-550,scale:3},{x:5,z:-580,scale:2.5},{x:-30,z:-150,scale:2},{x:20,z:-350,scale:2.5},{x:-25,z:-450,scale:2},{x:30,z:-650,scale:3}];te.forEach(t=>{const r=_t(t.x,t.z,t.scale);u.add(r)});function ee(){const t=document.createElement("canvas");t.width=1024,t.height=1024;const r=t.getContext("2d");for(let e=0;e<t.width;e++)for(let o=0;o<t.height;o++){const s=Math.random()*.3,l=Math.sin(e/20)*Math.cos(o/20)*.2,i=Math.sin(e/5+o/10)*.1,w=Math.min(Math.max(.3+s+l+i,0),1),G=Math.floor(w*255);r.fillStyle=`rgb(${G}, ${G*.9}, ${G*.8})`,r.fillRect(e,o,1,1)}const a=new _(t);return a.wrapS=a.wrapT=tt,a.repeat.set(4,20),a}function gt(){const t=document.createElement("canvas");t.width=1024,t.height=1024;const r=t.getContext("2d");for(let e=0;e<t.width;e++)for(let o=0;o<t.height;o++){const s=Math.sin(e/10)*Math.cos(o/10)*.5+.5,l=Math.floor(128+s*127),i=Math.floor(128+s*127),w=255;r.fillStyle=`rgb(${l},${i},${w})`,r.fillRect(e,o,1,1)}const a=new _(t);return a.wrapS=a.wrapT=tt,a.repeat.set(4,20),a}function oe(){const t=document.createElement("canvas");t.width=1024,t.height=1024;const r=t.getContext("2d");for(let e=0;e<t.width;e++)for(let o=0;o<t.height;o++){const s=Math.sin(e/30)*Math.cos(o/30)*.5+.5,l=Math.sin(e/20+o/40)*Math.cos(o/20+e/40)*.5+.5,i=(s+l)/2,w=Math.min(Math.max(i*.7,0),1);r.fillStyle=`rgba(255, 255, 255, ${w})`,r.fillRect(e,o,1,1)}const a=new _(t);return a.wrapS=a.wrapT=tt,a.repeat.set(8,8),a}function ae(){const t=xt(),r=ee(),a=gt(),e=new y({map:r,normalMap:a,roughness:.8,metalness:.2,color:6710886}),o=new f(t,e);return o.rotation.x=-Math.PI/2,o.position.y=-3,o}const ne=ae();u.add(ne);const se=gt(),re=oe(),h=new Kt(Qt,{textureWidth:2048,textureHeight:2048,waterNormals:se,sunDirection:R,sunColor:16777215,waterColor:7695,distortionScale:2.5,fog:!1,format:Bt,clipBias:0,alpha:.8,reflectivity:.8,size:4});h.material&&h.material.uniforms&&(h.material.uniforms.time.value=0,h.material.uniforms.sunDirection.value.copy(R),h.material.uniforms.distortionScale.value=2.5,h.material.uniforms.size.value=4,h.material.uniforms.causticsTex={value:re},h.material.uniforms.causticsScale={value:.5},h.material.uniforms.causticsSpeed={value:.05});h.rotation.x=-Math.PI/2;h.position.y=-1.8;u.add(h);function ie(){const r=new mt,a=new Float32Array(3e3*3),e=new Float32Array(3e3),o=new Float32Array(3e3),s=new Float32Array(3e3*3);for(let i=0;i<3e3*3;i+=3)a[i]=(Math.random()-.5)*D*.8,a[i+1]=Math.random()*.5,a[i+2]=(Math.random()-.5)*F,s[i]=(Math.random()-.5)*.1,s[i+1]=Math.random()*.05,s[i+2]=-.2-Math.random()*.3,e[i/3]=.1+Math.random()*.4,o[i/3]=.2+Math.random()*.6;r.setAttribute("position",new k(a,3)),r.setAttribute("size",new k(e,1)),r.setAttribute("opacity",new k(o,1)),r.setAttribute("velocity",new k(s,3));const l=new ut({color:16777215,transparent:!0,opacity:.6,blending:pt,sizeAttenuation:!0,map:vt()});return new ft(r,l)}function vt(){const t=document.createElement("canvas");t.width=64,t.height=64;const r=t.getContext("2d"),a=r.createRadialGradient(32,32,0,32,32,32);a.addColorStop(0,"rgba(255,255,255,1)"),a.addColorStop(.3,"rgba(255,255,255,0.8)"),a.addColorStop(.7,"rgba(255,255,255,0.3)"),a.addColorStop(1,"rgba(255,255,255,0)"),r.fillStyle=a,r.fillRect(0,0,64,64);const e=new Vt(t);return e.needsUpdate=!0,e}function ce(){const r=new mt,a=new Float32Array(1e3*3),e=new Float32Array(1e3*3),o=new Float32Array(1e3),s=new Float32Array(1e3);for(let i=0;i<1e3*3;i+=3)a[i]=0,a[i+1]=0,a[i+2]=0,e[i]=(Math.random()-.5)*.3,e[i+1]=Math.random()*.5,e[i+2]=(Math.random()-.5)*.3,o[i/3]=0,s[i/3]=.05+Math.random()*.15;r.setAttribute("position",new k(a,3)),r.setAttribute("velocity",new k(e,3)),r.setAttribute("lifetime",new k(o,1)),r.setAttribute("size",new k(s,1));const l=new ut({color:16777215,transparent:!0,opacity:.6,blending:pt,sizeAttenuation:!0,map:vt()});return new ft(r,l)}const C=ie(),P=ce();u.add(C);u.add(P);const bt=new y({color:9127187,roughness:.8,metalness:.2}),et=new f(new Q(F,100),bt);et.position.set(-100/2,50,0);et.rotation.y=Math.PI/2;u.add(et);const ot=new f(new Q(F,100),bt);ot.position.set(D/2,50,0);ot.rotation.y=-Math.PI/2;u.add(ot);function ht(t,r){const a=new I,e=new wt(.5,.8,5,8),o=new y({color:4861712}),s=new f(e,o);s.position.y=2.5,a.add(s);const l=new Ot(3,6,8),i=new y({color:2972199}),w=new f(l,i);return w.position.y=7,a.add(w),a.position.set(t,0,r),a}for(let t=-400;t<=400;t+=50)u.add(ht(-45,t)),u.add(ht(45,t));function le(){const t=new I,r=new I,a=[];a.push(new x(0,0,-9)),a.push(new x(0,1.2,-7.5)),a.push(new x(0,1.5,-4.5)),a.push(new x(0,1.2,0)),a.push(new x(0,1.5,4.5)),a.push(new x(0,1.2,7.5)),a.push(new x(0,0,9));const e=new Z;e.moveTo(0,-1.5),e.quadraticCurveTo(-2.5,0,0,1.5),e.quadraticCurveTo(2.5,0,0,-1.5);const o={steps:50,bevelEnabled:!0,bevelThickness:.3,bevelSize:.3,bevelSegments:12,extrudePath:new Ut(a)},s=new ct(e,o),l=new y({color:26316,roughness:.5,metalness:.2}),i=new f(s,l),w=new Z;w.ellipse(0,0,1.4,.9,0,Math.PI*2);const G={depth:.3,bevelEnabled:!0,bevelThickness:.15,bevelSize:.15,bevelSegments:4},V=new ct(w,G),j=new y({color:2236962}),d=new f(V,j);d.rotation.x=-Math.PI/2,d.position.set(0,1.5,0);const b=new Nt(1.4,.12,16,32),E=new y({color:16777215}),g=new f(b,E);g.rotation.x=Math.PI/2,g.position.set(0,1.6,0),r.add(i),r.add(d),r.add(g),t.add(r);const M=new I,v=new lt(1.2,2,1),z=new y({color:3355443}),n=new f(v,z);n.position.set(0,2.5,0),M.add(n);const m=new lt(.8,.8,.8),K=new y({color:2236962}),H=new f(m,K);H.position.set(0,3.8,0),M.add(H);const S=new I,Ct=new wt(.12,.12,8,12),Pt=new y({color:6710886,metalness:.8,roughness:.2}),kt=new f(Ct,Pt);S.add(kt);const X=new Z,At=.8,Ft=1.2;for(let U=0;U<=360;U++){const st=U*Math.PI/180,rt=Math.cos(st)*At,it=Math.sin(st)*Ft;U===0?X.moveTo(rt,it):X.lineTo(rt,it)}const at=new $t(X),nt=new y({color:0,roughness:.7,metalness:.2,side:qt}),Y=new f(at,nt);Y.position.y=4,Y.position.x=.15;const O=new f(at,nt);return O.position.y=-4,O.position.x=.15,O.rotation.z=Math.PI,S.add(Y),S.add(O),S.position.set(0,3.2,0),S.rotation.z=Math.PI/2,M.add(S),t.add(M),t}const W=le();u.add(W);const zt=new x(0,0,F/2-20);let c=new x(0,0,0);c.copy(zt);W.position.copy(zt);W.rotation.y=Math.PI;T.position.set(0,15,F/2+10);T.lookAt(new x(0,0,-1e3/2));const N=.5,A={ArrowLeft:!1,ArrowRight:!1,ArrowUp:!1,ArrowDown:!1};window.addEventListener("keydown",t=>{A.hasOwnProperty(t.key)&&(A[t.key]=!0)});window.addEventListener("keyup",t=>{A.hasOwnProperty(t.key)&&(A[t.key]=!1)});function St(){requestAnimationFrame(St);const t=performance.now()*.001,r=$.degToRad(88+Math.sin(t*.1)*2),a=$.degToRad(180+Math.cos(t*.1)*5);if(R.setFromSphericalCoords(1,r,a),q.material.uniforms.sunPosition.value.copy(R),h.material&&h.material.uniforms&&(h.material.uniforms.sunDirection.value.copy(R),h.material.uniforms.time.value=t*.3),h.material&&h.material.uniforms){const n=performance.now()*.001;h.material.uniforms.time.value=n*.3;const m=2.5,K=Math.sin(n*.2)*.5+Math.cos(n*.1)*.3,H=Math.cos(n*.15)*.8,S=m+K+(c.z<-200&&c.z>-300||c.z<-500&&c.z>-600?H:0);h.material.uniforms.distortionScale.value=S,h.material.uniforms.causticsTex.value.offset.y=n*.05,h.material.uniforms.causticsScale.value=.5+Math.sin(n*.2)*.1}const e=performance.now()*.001,o=c.x,s=c.z;let l=Math.sin(o*.3+e*.5)*.8;l+=Math.sin(s*.2+e*.7)*.6,l+=Math.cos(o*.4+s*.1+e)*.4,s<-200&&s>-300&&(l*=1.5,l+=(Math.random()-.5)*.8),s<-500&&s>-600&&(l*=2,l+=(Math.random()-.5)*1.2),c.y=l;const i=Math.atan2(Math.cos(s*.2+e)*.2+Math.sin(o*.3+e*.7)*.15,1),w=Math.atan2(Math.sin(o*.4+e)*.15+Math.cos(s*.3+e*.5)*.1,1);W.rotation.set(i,Math.PI,w);const G=.2+Math.sin(e*.5)*.05;c.z-=G*2,A.ArrowLeft&&(c.x-=N*(1+Math.sin(e)*.2)),A.ArrowRight&&(c.x+=N*(1+Math.sin(e)*.2)),A.ArrowUp&&(c.z-=N*2*(1+Math.cos(e)*.15)),A.ArrowDown&&(c.z+=N*(1+Math.cos(e)*.15)),c.x=Math.max(-100/2+2,Math.min(D/2-2,c.x)),c.z=Math.max(-1e3/2,Math.min(F/2,c.z)),W.position.copy(c);const V=20+Math.sin(e*.3)*2,j=30+Math.cos(e*.4)*3;T.position.set(c.x+Math.sin(e*.2)*2,V,c.z+j),T.lookAt(c.x,c.y,c.z-30);const d=C.geometry.attributes.position.array,b=C.geometry.attributes.velocity.array,E=C.geometry.attributes.size.array,g=C.geometry.attributes.opacity.array;for(let n=0;n<d.length;n+=3)d[n]+=b[n],d[n+1]+=b[n+1],d[n+2]+=b[n+2],d[n+1]+=Math.sin(d[n]*.3+e)*.02,d[n+2]<-200&&d[n+2]>-300&&(d[n]+=(Math.random()-.5)*.2,d[n+1]+=Math.random()*.1,g[n/3]=Math.min(1,g[n/3]+.1),E[n/3]=Math.min(.8,E[n/3]+.05)),d[n+2]<-500&&d[n+2]>-600&&(d[n]+=(Math.random()-.5)*.3,d[n+1]+=Math.random()*.15,g[n/3]=Math.min(1,g[n/3]+.15),E[n/3]=Math.min(1,E[n/3]+.08)),(d[n+2]<-1e3/2||Math.abs(d[n])>D/2||d[n+1]>2)&&(d[n]=(Math.random()-.5)*D*.8,d[n+1]=Math.random()*.5,d[n+2]=F/2,b[n]=(Math.random()-.5)*.1,b[n+1]=Math.random()*.05,b[n+2]=-.2-Math.random()*.3,E[n/3]=.1+Math.random()*.4,g[n/3]=.2+Math.random()*.6);const M=P.geometry.attributes.position.array,v=P.geometry.attributes.velocity.array,z=P.geometry.attributes.lifetime.array;if(c.z<-200&&c.z>-300||c.z<-500&&c.z>-600)for(let n=0;n<10;n++){const m=Math.floor(Math.random()*M.length/3)*3;z[m/3]<=0&&(M[m]=c.x+(Math.random()-.5)*4,M[m+1]=c.y,M[m+2]=c.z+(Math.random()-.5)*4,v[m]=(Math.random()-.5)*.3,v[m+1]=.2+Math.random()*.3,v[m+2]=(Math.random()-.5)*.3,z[m/3]=1)}for(let n=0;n<z.length;n++)if(z[n]>0){const m=n*3;M[m]+=v[m]*.5,M[m+1]+=v[m+1]*.5,M[m+2]+=v[m+2]*.5,v[m+1]-=.02,z[n]-=.02,P.material.opacity=Math.max(0,z[n])}C.geometry.attributes.position.needsUpdate=!0,C.geometry.attributes.size.needsUpdate=!0,C.geometry.attributes.opacity.needsUpdate=!0,P.geometry.attributes.position.needsUpdate=!0,P.material.opacity=Math.max(.4,Math.min(.8,P.material.opacity)),p.render(u,T)}window.addEventListener("resize",de,!1);function de(){T.aspect=window.innerWidth/window.innerHeight,T.updateProjectionMatrix(),p.setSize(window.innerWidth,window.innerHeight),p.setPixelRatio(window.devicePixelRatio)}St();
//# sourceMappingURL=index-BaQoobA7.js.map
